(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_buy-index"],{"1b48":function(a,t,e){var i=e("31d7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var o=e("967d").default;o("6b86f8f2",i,!0,{sourceMap:!1,shadowMode:!1})},2678:function(a,t,e){"use strict";e.r(t);var i=e("d6a7"),o=e("33f0");for(var s in o)["default"].indexOf(s)<0&&function(a){e.d(t,a,(function(){return o[a]}))}(s);e("4c66");var d=e("828b"),n=Object(d["a"])(o["default"],i["b"],i["c"],!1,null,"a48db59a",null,!1,i["a"],void 0);t["default"]=n.exports},"31d7":function(a,t,e){var i=e("c86c");t=i(!1),t.push([a.i,"@charset \"UTF-8\";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.commodity_attr_box[data-v-a48db59a]{position:relative;width:100%;background:#fff;padding-top:%?20?%}.commodity_attr_box uni-input[data-v-a48db59a]{background:none;border:none;display:block;height:28px;text-overflow:clip;overflow:hidden;white-space:nowrap;font-family:UICTFontTextStyleBody}.pay_btn[data-v-a48db59a]{display:block;padding:10px 0;margin:10px 0 10px 0}.btn_l[data-v-a48db59a]{display:inline-block;width:90%;margin:0 5%;font-size:16px;line-height:36px;text-align:center;color:#fff;background:#e33e33;border-radius:4px}\n/*支付弹窗*/.close[data-v-a48db59a]{position:absolute;right:1px;top:-9px;font-size:15px;background:#fff;border-radius:50%;padding:2px;width:18px;height:18px;line-height:18px;text-align:center;color:#333;z-index:2}.bottom_mask_top[data-v-a48db59a]{position:relative;z-index:1;display:block;padding:10px;border-bottom:solid 1px #f5f5f5}.pd_amount[data-v-a48db59a]{display:block;padding:10px 0;text-align:center;font-size:14px;color:#333;line-height:20px}.inp_con[data-v-a48db59a]{display:block;clear:both;background:#fff;font-size:14px;border-bottom:solid 1px #f5f5f5}.cp__box_noselect[data-v-a48db59a]{border-color:#f5f5f5;background-color:#f5f5f5;border:1px solid #f5f5f5}.weui-switch-cp__box[data-v-a48db59a]{display:block;position:relative;width:45px;height:25px;outline:0;border-radius:12.5px;box-sizing:border-box}.weui-switch-cp__box[data-v-a48db59a]::before{-webkit-transform:scale(0);transform:scale(0)}.weui-switch-cp__box[data-v-a48db59a]::before{content:\" \";position:absolute;top:0;left:0;width:48px;height:23px;border-radius:11.5px;background-color:#f5f5f5}.cp__box_noselect[data-v-a48db59a]::after{-webkit-transform:translateX(0);transform:translateX(0)}.weui-switch-cp__box[data-v-a48db59a]::after{content:\" \";position:absolute;top:0;left:0;width:23px;height:23px;border-radius:11.5px;background-color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.cp__box_select[data-v-a48db59a]{border-color:#48cfae;background-color:#48cfae;border:1px solid #48cfae}.cp__box_select[data-v-a48db59a]::after{-webkit-transform:translateX(20px);transform:translateX(20px)}.nctouch-pay[data-v-a48db59a]{display:block}.nctouch-pay .spacing-view[data-v-a48db59a]{position:relative;z-index:1;display:block;height:20px;margin:0 10px 20px 10px;border-bottom:solid #eee 1px}.nctouch-pay .spacing-view .span[data-v-a48db59a]{position:absolute;z-index:1;bottom:-6px;left:50%;display:block;width:100px;margin-left:-50px;text-align:center;font-size:11px;line-height:12px;height:12px;background-color:#fff;color:#888}.nctouch-pay .pay-sel[data-v-a48db59a]{display:block;font-size:0;overflow:hidden}.nctouch-pay .pay-sel .weui-cell[data-v-a48db59a]{font-size:14px}.nctouch-pay .pay-sel .weui-cell__hd[data-v-a48db59a]{margin-right:15px}.nctouch-pay .pay-sel .weui-cell__hd uni-image[data-v-a48db59a]{display:block;width:23px;height:23px}.nctouch-pay .pay-sel .weui-cell__ft uni-image[data-v-a48db59a]{display:block;width:23px;height:23px}.content[data-v-a48db59a]{padding-bottom:60px}.address_box[data-v-a48db59a]{background-color:#fff;margin-top:12px;overflow:hidden}.address_box_border[data-v-a48db59a]{width:100%;height:5px;background:linear-gradient(45deg,#f25953 12.5%,#fbfaf5 0,#fbfaf5 25%,#5590d6 0,#5590d6 37.5%,#fbfaf5 0,#fbfaf5 50%,#f25953 0,#f25953 62.5%,#fbfaf5 0,#fbfaf5 75%,#5590d6 0,#5590d6 87.5%,#fbfaf5 0,#fbfaf5);background-size:70px 70px}.o_nam_tle[data-v-a48db59a]{font-size:14px}.o_nam[data-v-a48db59a]{padding-right:15px}.o_tele[data-v-a48db59a]{color:#4384d8}.o_address_wrap[data-v-a48db59a]{color:#3f3f3f;padding-top:5px;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%}.shop_list[data-v-a48db59a]{background:#fff;margin-bottom:10px}.s_title[data-v-a48db59a]{padding:10px 0;color:#333;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.is_wrap[data-v-a48db59a]{background-color:#fff;margin-top:12px;padding:0 15px}.is_wrap .weui-media-box_appmsg[data-v-a48db59a]{padding:10px 0}.is_wrap .weui-cell_active[data-v-a48db59a]{padding:10px 0 0 0}.is_wrap .weui-cell_active .weui-cell__hd[data-v-a48db59a]{color:#fe5890}.remark_wrap[data-v-a48db59a]{background-color:#fff;margin:0 15px}.remark_wrap .label[data-v-a48db59a]{height:44px;line-height:44px;position:relative;padding-left:50px;border-top:#f5f5f5 solid 1px;font-size:14px}.remark_wrap .label .label_name[data-v-a48db59a]{position:absolute;left:0;top:0;font-weight:400}.remark_wrap .label .label_value[data-v-a48db59a]{width:96%;height:22px;line-height:22px;padding:11px 2%;display:block;border-top:none}.remark_wrap .label .label_value uni-input[data-v-a48db59a]{width:100%;height:100%;display:block;border:none;background:none}.order_notice[data-v-a48db59a]{font-size:14px;margin:0 15px;color:#888;border-top:#f5f5f5 solid 1px;padding:8px 0;position:relative;text-align:right}.item_total[data-v-a48db59a]{height:52px;line-height:52px;text-align:right;padding-right:15px;color:#333;border-top:#f5f5f5 solid 1px;font-size:14px}.item_total .price[data-v-a48db59a]{font-weight:700;color:#fe5890}.order_footer[data-v-a48db59a]{width:100%;position:fixed;bottom:0;left:0;display:block;z-index:3}.order_footer .weui-cell[data-v-a48db59a]{padding:0}.order_footer .order_btns[data-v-a48db59a]{border-top:1px solid #f5f5f5;background-color:#fff;padding:5px 10px}.order_footer .last_money[data-v-a48db59a]{padding-top:3px;text-align:right}.order_footer .last_money .last_money_show[data-v-a48db59a]{color:#fe5890;font-size:16px}.order_footer .submit_order[data-v-a48db59a]{padding:5px 30px;margin-left:10px;background:#f5f5f5;color:#fff;display:inline-block;text-align:center;border-radius:3px;font-size:15px}.order_footer .order_btns .ok[data-v-a48db59a]{background:#fe5890}.order_footer .promotion_money[data-v-a48db59a]{font-size:10px;color:#999;display:block;width:100%}\n/*活动*/.store-activity[data-v-a48db59a]{padding:5px 0;border-top:5px solid #f5f5f5;border-bottom:5px solid #f5f5f5}.store-activity .activity-title[data-v-a48db59a]{display:inline-block;font-size:12px;padding:2px 10px;margin:0 15px;color:#fff;background:rgba(255,0,0,.6);border-radius:5px}.store-activity .activity-desc[data-v-a48db59a]{font-size:12px;color:#777;padding:5px 15px}.store-activity .activity-desc .i[data-v-a48db59a]{font-size:11px;padding:2px 5px;color:#fff;background:rgba(255,0,0,.5);border-radius:5px}.store-activity .activity-desc .em[data-v-a48db59a]{font-weight:600;color:#555}.store-activity .activity-desc uni-image[data-v-a48db59a]{display:inline-block;vertical-align:middle;width:20px;height:20px}.voucher .weui-cell__bd[data-v-a48db59a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:#333;font-size:15px}.voucher .weui-cell__ft[data-v-a48db59a]{padding-right:22px;position:relative;text-align:right;color:rgba(0,0,0,.5);font-size:14px}.voucher .weui-cell__ft[data-v-a48db59a]:after{content:\" \";width:12px;height:24px;-webkit-mask-position:0 0;mask-position:0 0;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100%;mask-size:100%;background-color:currentColor;color:rgba(0,0,0,.3);-webkit-mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E\");position:absolute;top:50%;right:0;margin-top:-12px}.value-box[data-v-a48db59a]{font-size:14px;border:solid 1px #f5f5f5;border-radius:4px}.value-box uni-text[data-v-a48db59a], .value-box uni-input[data-v-a48db59a]{display:inline-block;vertical-align:top;text-align:center;padding:0 12px;color:#333}.value-box .minus[data-v-a48db59a]{line-height:31px;background-color:#f5f5f5;border-radius:4px 0 0 4px}.value-box uni-input[data-v-a48db59a]{width:50px;padding-top:3px}.value-box .add[data-v-a48db59a]{line-height:31px;background-color:#f5f5f5;border-radius:0 4px 4px 0}.payment-box[data-v-a48db59a]{margin-top:15px}.payment-box .weui-cell[data-v-a48db59a]{background-color:#fff;border-bottom:1px solid #f5f5f5}.payment-box .weui-cell__hd[data-v-a48db59a]{margin-right:10px}.payment-box .weui-cell__bd[data-v-a48db59a]{font-size:16px}.payment-box .weui-cell__bd .weui-media-box__title[data-v-a48db59a]{font-size:16px}.reporter_id_wrap[data-v-a48db59a]{background-color:#fff;margin:10px 0;padding:10px;border:1px solid #f5f5f5;border-radius:5px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.reporter_id_wrap .label[data-v-a48db59a]{height:44px;line-height:44px;position:relative;padding-left:70px;font-size:16px}.reporter_id_wrap .label .label_name[data-v-a48db59a]{position:absolute;left:0;top:0;font-weight:400}.reporter_id_wrap .label .label_value[data-v-a48db59a]{width:96%;height:22px;line-height:22px;padding:11px 2%;display:block;border-top:none}.reporter_id_wrap .label .label_value uni-input[data-v-a48db59a]{width:100%;height:100%;display:block;border:none;background:none;font-size:14px;color:#333}",""]),a.exports=t},"33f0":function(a,t,e){"use strict";e.r(t);var i=e("561d"),o=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(s);t["default"]=o.a},"4c66":function(a,t,e){"use strict";var i=e("1b48"),o=e.n(i);o.a},"561d":function(a,t,e){"use strict";e("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("aa9c"),e("bf0f"),e("c9b5"),e("ab80"),e("5c47"),e("2c10");var i=getApp(),o={data:function(){return{payment_list:{},available_predeposit:0,pd_falg:!1,password:"",payment_code:"online",payment_code_num:0,order_amount:0,promotion_total:0,order_num:0,pay_sn:"",loadView:!0,cart_id:"",ifcart:0,address_info:{},address_id:0,goods_list:{},store_premiums_list:{},store_mansong_rule_list:{},voucher_list:{},store_voucher_index:{},message:{},reporter_id:""}},onLoad:function(a){var t=decodeURIComponent(a.cart_id)||"";t?(this.ifcart=a.ifcart||0,this.cart_id=t,this.load_info()):i.globalData.util.message("参数错误","","tip")},onShow:function(a){this.load_info()},methods:{load_info:function(a){var t=this,e=t.cart_id,o=t.payment_code;i.globalData.util.request({url:"shop/shop_buy/buy_step1",data:{cart_id:e,payment_code:o},showLoading:!1,success:function(a){if(200==a.data.state){t.address_info=a.data.data.address_info,t.address_id=a.data.data.address_info.address_id,t.goods_list=a.data.data.goods_list,t.order_amount=a.data.data.order_amount,t.order_num=a.data.data.order_num,t.promotion_total=a.data.data.promotion_total,t.store_premiums_list=a.data.data.store_premiums_list,t.store_mansong_rule_list=a.data.data.store_mansong_rule_list,t.voucher_list=a.data.data.voucher_list;var e={};for(var i in t.voucher_list)e[i]=0;t.store_voucher_index=e,t.available_predeposit=a.data.data.available_predeposit,t.loadView=!1}}})},select_address:function(a){uni.navigateTo({url:"/pages/member_address/index?type=1"})},minus_num:function(a){var t=a.currentTarget.dataset.num,e=a.currentTarget.dataset.goods_id;t--,t<=0&&(t=1);var i=[];for(var o in this.goods_list){var s=this.goods_list[o].goods;for(var d in s){if(e==s[d].goods_id)var n=s[d].goods_id+"|"+t;else n=s[d].goods_id+"|"+s[d].goods_num;i.push(n)}}var r=i.toString();this.cart_id=r,this.load_info()},add_num:function(a){var t=a.currentTarget.dataset.num,e=a.currentTarget.dataset.goods_id;t++;var i=[];for(var o in this.goods_list){var s=this.goods_list[o].goods;for(var d in s){if(e==s[d].goods_id)var n=s[d].goods_id+"|"+t;else n=s[d].goods_id+"|"+s[d].goods_num;i.push(n)}}var r=i.toString();this.cart_id=r,this.load_info()},changeNumInput:function(a){var t=a.currentTarget.dataset.goods_id,e=a.target.value||1;e<=0&&(e=1);var i=[];for(var o in this.goods_list){var s=this.goods_list[o].goods;for(var d in s){if(t==s[d].goods_id)var n=s[d].goods_id+"|"+e;else n=s[d].goods_id+"|"+s[d].goods_num;i.push(n)}}var r=i.toString();this.cart_id=r,this.load_info()},bindVoucherChange:function(a){var t=this,e=a.currentTarget.dataset.store_id,o=t.store_voucher_index;o[e]=a.target.value,t.setData({store_voucher_index:o});var s=t.cart_id,d=t.goods_list,n=[];for(var r in d){o=t.store_voucher_index[r];var l=t.voucher_list[r]?t.voucher_list[r][o].voucher_id:0,c=r+"|"+l;n.push(c)}n=n.toString(),i.globalData.util.request({url:"shop/shop_buy/change_voucher",data:{cart_id:s,voucher_info:n},showLoading:!1,success:function(a){200==a.data.state&&(t.order_amount=a.data.data.order_amount,t.order_num=a.data.data.order_num,t.promotion_total=a.data.data.promotion_total,t.loadView=!1)}})},buy_step2:function(a){var t=this,e=t.goods_list,o=[];for(var s in e){var d=t.store_voucher_index[s],n=t.voucher_list[s]?t.voucher_list[s][d].voucher_id:0,r=s+"|"+n;o.push(r)}o=o.toString();var l=[];for(var s in e){var c=t.message[s]||"";r=s+"|"+c;l.push(r)}l=l.toString();var p={};p.address_id=t.address_id,p.paycode=t.payment_code,p.cart_id=t.cart_id,p.ifcart=t.ifcart,p.message=l,p.voucher_info=o,p.reporter_id=t.reporter_id,i.globalData.util.request({url:"shop/shop_buy/buy_step2",data:p,showLoading:!1,lock:!0,success:function(a){200==a.data.state&&(t.pay_sn=a.data.data.pay_sn,t.available_predeposit=a.data.data.available_predeposit,t.order_amount=t.order_amount,t.payment_list=a.data.data.payment_list,t.payment_code=a.data.data.payment_code,t.popuptoggle("bottom"),t.load_info())}})},popuptoggle:function(a){this.$refs.popup.open(a)},close_popuptoggle:function(){this.$refs.popup.close()},popupchange:function(a){console.log("当前模式："+a.type+",状态："+a.show)},pd_open:function(a){var t=this.pd_falg;this.setData({pd_falg:!t})},select_payment:function(a){var t=a.currentTarget.dataset.type;this.setData({payment_code:t}),this.load_info()},pay:function(a){var t=this,o={},s=uni.getStorageSync("key")||null;o.key=s,o.pd_pay=t.pd_falg?1:0,o.password=t.password,o.pay_sn=t.pay_sn,o.payment_code=t.payment_code,o.pay_check=1,i.globalData.util.request({url:"shop/shop_buy/pay",data:o,lock:!0,success:function(a){if(a.data.data.msg)a.data.data.url?i.globalData.util.message(a.data.data.msg,a.data.data.url,"success"):i.globalData.util.message(a.data.data.msg,"","success");else{var o=window.navigator.userAgent.toLowerCase();if("micromessenger"==o.match(/MicroMessenger/i)){if("wxpay_jsapi"==t.payment_code){var s=e("dfe3");s.callPay(a.data.data)}}else"wxpay_h5"==t.payment_code&&(location.href=a.data.data.mweb_url);"alipay"==t.payment_code&&(document.querySelector("body").innerHTML=a.data.msg,document.forms["alipaysubmit"].submit())}}})}}};t.default=o},d6a7:function(a,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return s})),e.d(t,"a",(function(){return i}));var i={uniIcons:e("219f").default,uniPopup:e("cb66").default},o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return 0==a.loadView?e("v-uni-view",{staticClass:"content font_color"},[e("v-uni-view",{staticClass:"address_wrap"},[e("v-uni-view",{staticClass:"address_box"},[e("v-uni-view",{staticClass:"address_box_border"}),e("v-uni-view",{staticClass:"weui-cell weui-cell_access",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.select_address.apply(void 0,arguments)}}},[a.address_id>0?e("v-uni-view",{staticClass:"weui-cell__bd"},[e("v-uni-view",{staticClass:"requester_li o_nam_tle"},[e("v-uni-text",{staticClass:"o_nam"},[a._v(a._s(a.address_info.user_name))]),e("v-uni-text",{staticClass:"o_tele"},[a._v(a._s(a.address_info.tel_number))])],1),e("v-uni-view",{staticClass:"requester_li o_address_wrap font_color"},[a._v(a._s(a.address_info.province_name)+" "+a._s(a.address_info.city_name)+" "+a._s(a.address_info.county_name)+" "+a._s(a.address_info.detail_info))])],1):e("v-uni-view",{staticClass:"weui-cell__bd font_color"},[e("v-uni-view",{staticStyle:{"vertical-align":"middle"}},[a._v("选择收货地址")])],1),e("v-uni-view",{staticClass:"weui-cell__ft"})],1)],1)],1),e("v-uni-view",{staticClass:"reporter_id_wrap"},[e("v-uni-view",{staticClass:"label"},[e("v-uni-view",{staticClass:"label_name"},[a._v("报单人ID")]),e("v-uni-view",{staticClass:"label_value"},[e("v-uni-input",{staticClass:"reporter_id_input",attrs:{placeholder:"请输入报单人ID","placeholder-class":"placeholder_class"},model:{value:a.reporter_id,callback:function(t){a.reporter_id=t},expression:"reporter_id"}})],1)],1)],1),e("v-uni-view",{staticClass:"shop_list"},[a._l(a.goods_list,(function(t,i){return[e("v-uni-view",{staticClass:"is_wrap"},[e("v-uni-view",{staticClass:"s_title font_color"},[e("uni-icons",{staticStyle:{"vertical-align":"middle"},attrs:{type:"shop-filled",size:"22px",color:"#999"}}),e("v-uni-text",{staticStyle:{"vertical-align":"middle","padding-left":"5px"}},[a._v(a._s(t.store_name))])],1),a._l(t.goods,(function(t,i){return e("v-uni-view",{staticClass:"weui-media-box weui-media-box_appmsg"},[e("v-uni-view",{staticClass:"weui-media-box__hd"},[e("v-uni-image",{staticClass:"weui-media-box__thumb",attrs:{src:t.goods_image}})],1),e("v-uni-view",{staticClass:"weui-media-box__bd"},[e("v-uni-view",{staticClass:"weui-media-box__title font_color"},[a._v(a._s(t.goods_name))]),e("v-uni-view",{staticClass:"weui-cell weui-cell_active"},[e("v-uni-view",{staticClass:"weui-cell__hd"},[a._v("￥"+a._s(t.goods_price))]),e("v-uni-view",{staticClass:"weui-cell__bd"}),e("v-uni-view",{staticClass:"weui-cell__ft value-box"},[e("v-uni-text",{staticClass:"minus",attrs:{"data-goods_id":t.goods_id,"data-num":t.goods_num},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.minus_num.apply(void 0,arguments)}}},[a._v("-")]),e("v-uni-input",{attrs:{type:"number",value:t.goods_num,"data-goods_id":t.goods_id,disabled:!0},on:{input:function(t){arguments[0]=t=a.$handleEvent(t),a.changeNumInput.apply(void 0,arguments)}}}),e("v-uni-text",{staticClass:"add",attrs:{"data-goods_id":t.goods_id,"data-num":t.goods_num},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.add_num.apply(void 0,arguments)}}},[a._v("+")])],1)],1)],1)],1)}))],2),a.store_premiums_list[i]||a.store_mansong_rule_list[i]?e("v-uni-view",{staticClass:"store-activity"},[e("v-uni-view",{staticClass:"activity-title"},[a._v("满即送")]),e("v-uni-view",{staticClass:"activity-desc"},[a.store_mansong_rule_list[i]?[a._v("满"),e("v-uni-text",{staticClass:"em"},[a._v("￥"+a._s(a.store_mansong_rule_list[i].price))]),a._v("减"),e("v-uni-text",{staticClass:"em"},[a._v("￥"+a._s(a.store_mansong_rule_list[i].discount))]),a._v("")]:a._e(),a.store_premiums_list[i]?[a._l(a.store_premiums_list[i],(function(t,i){return[e("v-uni-text",{staticClass:"i"},[a._v("赠")]),a._v("["+a._s(t.goods_name)+"]  "+a._s(t.goods_num)+"件")]}))]:a._e()],2)],1):a._e(),a.voucher_list[i]?e("v-uni-view",{staticClass:"weui-cell voucher"},[e("v-uni-view",{staticClass:"weui-cell__bd"},[a._v("店铺代金券")]),e("v-uni-view",{staticClass:"weui-cell__ft"},[e("v-uni-picker",{attrs:{value:a.store_voucher_index[i],range:a.voucher_list[i],"range-key":"voucher_price","data-store_id":i},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.bindVoucherChange.apply(void 0,arguments)}}},[a._v("节省"+a._s(a.voucher_list[i][a.store_voucher_index[i]].voucher_price)+"元")])],1)],1):a._e(),e("v-uni-view",{staticClass:"remark_wrap"},[e("v-uni-view",{staticClass:"label"},[e("v-uni-view",{staticClass:"label_name"},[a._v("留言")]),e("v-uni-view",{staticClass:"label_value"},[e("v-uni-input",{attrs:{placeholder:"留言备注","placeholder-class":"placeholder_class"},model:{value:a.message[i],callback:function(t){a.$set(a.message,i,t)},expression:"message[index]"}})],1)],1)],1),e("v-uni-view",{staticClass:"order_notice font_color"},[t.freight_total>0?[a._v("运费"+a._s(t.freight_total)+"元")]:[a._v("免运费")]],2),e("v-uni-view",{staticClass:"item_total font_color"},[e("v-uni-text",[a._v("共"+a._s(t.sum_num)+"件商品，本店合计")]),e("v-uni-text",{staticClass:"prices"},[a._v("¥"+a._s(t.sum_price))])],1)]}))],2),e("v-uni-view",{staticClass:"order_footer"},[e("v-uni-view",{staticClass:"weui-cell order_btns"},[e("v-uni-view",{staticClass:"weui-cell__bd"}),e("v-uni-view",{staticClass:"weui-cell__ft"},[e("v-uni-view",{staticClass:"weui-cell"},[e("v-uni-view",{staticClass:"weui-cell__bd"},[e("v-uni-view",{staticClass:"last_money"},[e("v-uni-text",[a._v("应付:")]),e("v-uni-text",{staticClass:"last_money_show"},[a._v("￥"+a._s(a.order_amount))])],1),e("v-uni-view",{staticClass:"promotion_money"},[a._v("优惠"+a._s(a.promotion_total)+"元")])],1),e("v-uni-view",{staticClass:"weui-cell__ft"},[e("v-uni-view",{staticClass:"submit_order ok",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.buy_step2.apply(void 0,arguments)}}},[a._v("提交订单")])],1)],1)],1)],1)],1),e("uni-popup",{ref:"popup",attrs:{"background-color":"#fff"},on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.popupchange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"commodity_attr_box"},[e("v-uni-view",{staticClass:"close",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.close_popuptoggle.apply(void 0,arguments)}}},[e("uni-icons",{attrs:{color:"#333333",size:"18px",type:"closeempty"}})],1),e("v-uni-view",{staticClass:"bottom_mask_top"},[e("v-uni-view",{staticClass:"pd_amount"},[a._v("本次交易需在线支付"),e("v-uni-text",[a._v("￥"+a._s(a.order_amount))])],1)],1),e("v-uni-view",{staticClass:"inp_con"},[a.available_predeposit>0?e("v-uni-view",{staticClass:"weui-cell weui-cell_switch"},[e("v-uni-view",{staticClass:"weui-cell__bd"},[a._v("使用余额支付"),e("v-uni-text",{staticStyle:{color:"#555","font-size":"11px","padding-left":"20px"}},[a._v("(可用余额 ￥"+a._s(a.available_predeposit)+")")])],1),e("v-uni-view",{staticClass:"weui-cell__ft"},[a.pd_falg?e("v-uni-view",{staticClass:"weui-switch-cp__box cp__box_noselect cp__box_select",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.pd_open.apply(void 0,arguments)}}}):e("v-uni-view",{staticClass:"weui-switch-cp__box cp__box_noselect",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.pd_open.apply(void 0,arguments)}}})],1)],1):a._e(),a.pd_falg?e("v-uni-view",{staticClass:"weui-cell",attrs:{id:"pd_pay_box"}},[e("v-uni-view",{staticClass:"weui-cell__hd"},[e("v-uni-view",{staticClass:"weui-label"},[a._v("输入支付密码")])],1),e("v-uni-view",{staticClass:"weui-cell__bd"},[e("v-uni-input",{staticClass:"weui-input",attrs:{placeholder:"这里输入支付密码"},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}})],1)],1):a._e(),e("v-uni-view",{staticClass:"nctouch-pay"},[e("v-uni-view",{staticClass:"spacing-view"},[e("v-uni-text",{staticClass:"span"},[a._v("在线支付方式")])],1),e("v-uni-view",{staticClass:"pay-sel"},[a._l(a.payment_list,(function(t,i){return[e("v-uni-view",{staticClass:"weui-cell",attrs:{"data-type":t.payment_code},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.select_payment.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"weui-cell__hd"},[e("v-uni-image",{attrs:{src:t.payment_logo}})],1),e("v-uni-view",{staticClass:"weui-cell__bd"},[a._v(a._s(t.payment_name))]),a.payment_code==t.payment_code?e("v-uni-view",{staticClass:"weui-cell__ft"},[e("v-uni-image",{attrs:{src:"/static/set_check.png"}})],1):e("v-uni-view",{staticClass:"weui-cell__ft"},[e("v-uni-image",{attrs:{src:"/static/no_check.png"}})],1)],1)]}))],2)],1)],1),e("v-uni-view",{staticClass:"pay_btn"},[e("v-uni-view",{staticClass:"btn_l",attrs:{pay_sn:a.pay_sn},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.pay.apply(void 0,arguments)}}},[a._v("确认支付")])],1)],1)],1)],1):a._e()},s=[]},dfe3:function(a,t){function e(a){a.package&&WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:a.appId,timeStamp:a.timeStamp,nonceStr:a.nonceStr,package:a.package,signType:a.signType,paySign:a.paySign},(function(t){t&&"get_brand_wcpay_request:ok"==t.err_msg?uni.redirectTo({url:"/pages/payment/result?type=success&attach="+a.order_type}):uni.navigateTo({url:"/pages/payment/result?type=failed&attach="+a.order_type}),WeixinJSBridge.log(a.err_msg)}))}a.exports={callPay:function(a){"undefined"===typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e(a),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e(a)),document.attachEvent("onWeixinJSBridgeReady",e(a))):e(a)}}}}]);